(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))d(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const T of i.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&d(T)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const p=document.getElementById("contenedorCartasJugador"),L=document.getElementById("puntuacionJugador");let s=0,l=0;const M=document.getElementById("puntuacionCrupier"),c=document.getElementById("contenedorCartasCrupier");let t=0;const y=document.getElementById("nuevoJuego"),f=document.getElementById("pedirCarta"),b=document.getElementById("detener"),o=document.getElementById("informacion");o.style.display="none";let u=[];y.addEventListener("click",()=>{k(),h(),h(),s==21&&(o.innerHTML="Black Jack",g()),c.innerHTML+="<img src='./cartas/grey_back.png'>",c.innerHTML+="<img src='./cartas/grey_back.png'>"});f.addEventListener("click",()=>{let e=h();if(s==21){c.innerHTML="";do H();while(t<17&&t!=0);t==21?(o.innerHTML="Empate",g()):(o.innerHTML="Has ganado",g())}e&&(c.innerHTML="",H(),H(),o.innerHTML="Has Perdido",g())});b.addEventListener("click",()=>{c.innerHTML="";do H();while(17>t);s>t||t>21?o.innerHTML="Has ganado":s==t?o.innerHTML="Empate":o.innerHTML="Has Perdido",f.disabled=!0,g()});function g(){f.disabled=!0,f.classList.add("botonDeshabilitado"),b.disabled=!0,b.classList.add("botonDeshabilitado"),setTimeout(function(){o.style.display="flex"},1e3)}function H(){do{let e=Math.floor(Math.random()*13)+1,a=Math.floor(Math.random()*4)+1,n=C(e,a),d=0;if(!u.includes(n))return u.push(n),m(e)==1&&(d=10,l++),t+=m(e)+d,t>21?l!=0?(t+=-10,l--,M.innerHTML="Crupier: "+t,c.innerHTML+=`<img src='./cartas/${n}.png'>`,!1):(M.innerHTML="Crupier: "+t,c.innerHTML+=`<img src='./cartas/${n}.png'>`,!0):(M.innerHTML="Crupier: "+t,c.innerHTML+=`<img src='./cartas/${n}.png'>`,!1)}while(!u.includes(carta))}function h(){do{let e=Math.floor(Math.random()*13)+1,a=Math.floor(Math.random()*4)+1,n=C(e,a),d=0;if(!u.includes(n))return u.push(n),m(e)==1&&(d=10,l++),s+=m(e)+d,s>21?l!=0?(s+=-10,l--,L.innerHTML="Jugador 1: "+s,p.innerHTML+=`<img src='./cartas/${n}.png'>`,!1):(L.innerHTML="Jugador 1: "+s,p.innerHTML+=`<img src='./cartas/${n}.png'>`,!0):(L.innerHTML="Jugador 1: "+s,p.innerHTML+=`<img src='./cartas/${n}.png'>`,!1)}while(!u.includes(carta))}function m(e){switch(e){case 1:e=1;break;case 11:e=10;break;case 12:e=10;break;case 13:e=10;break;default:e=e;break}return e}function C(e,a){switch(e){case 1:e="A";break;case 2:e=2;break;case 3:e=3;break;case 4:e=4;break;case 5:e=5;break;case 6:e=6;break;case 7:e=7;break;case 8:e=8;break;case 9:e=9;break;case 10:e=10;break;case 11:e="J";break;case 12:e="Q";break;case 13:e="K";break}switch(a){case 1:a="C";break;case 2:a="D";break;case 3:a="H";break;case 4:a="S";break}return e+a}function k(){u=[],s=0,t=0,l=0,p.innerHTML="",c.innerHTML="",L.innerHTML="Jugador 1: ",M.innerHTML="Crupier: ",f.disabled=!1,f.classList.remove("botonDeshabilitado"),b.disabled=!1,b.classList.remove("botonDeshabilitado"),o.style.display="none"}
